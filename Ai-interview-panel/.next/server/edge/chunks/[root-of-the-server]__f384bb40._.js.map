{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/shared/routes.ts"],"sourcesContent":["export const PUBLIC_ROUTES = {\r\n  LOGIN: \"/login\",\r\n  REGISTER: \"/register\",\r\n  FORGOT_PASSWORD: \"/forgot-password\",\r\n  OTP_VERIFY: \"/otp-verify\",\r\n  RESET_PASSWORD: \"/reset-password\",\r\n};\r\n\r\nexport const PRIVATE_ROUTES = {\r\n  DASHBOARD: \"/dashboard\",\r\n  USERS: \"/users\",\r\n  USERS_LIST: \"/users/list\",\r\n  USERS_VIEW: \"/users/view\",\r\n  DASHBOARD_CRM: \"/dashboard/crm\",\r\n  INVOICES_LIST: \"/invoices/list\",\r\n  INVOICES_PREVIEW: \"/invoices/preview\",\r\n  INVOICES_ADD: \"/invoices/add\",\r\n  INVOICES_EDIT: \"/invoices/edit\",\r\n  DASHBOARD_ANALYTICS: \"/dashboard/analytics\",\r\n  USERS_VIEW_ACCOUNT: \"/users/view/account\",\r\n  USERS_VIEW_SECURITY: \"/users/view/security\",\r\n  USERS_VIEW_BILLING: \"/users/view/billing\",\r\n  USERS_VIEW_NOTIFICATIONS: \"/users/view/notifications\",\r\n  USERS_VIEW_CONNECTIONS: \"/users/view/connections\",\r\n  TRANSACTIONS_LIST: \"/transactions/list\",\r\n  SUBSCRIPTIONS_LIST: \"/subscriptions/list\",\r\n  SUBSCRIPTIONS_VIEW: \"/subscriptions/view\",\r\n  BADGES: \"/badges\",\r\n  BADGES_LIST: \"/badges/list\",\r\n  BADGES_ADD: \"/badges/add\",\r\n  BADGES_EDIT: \"/badges/edit\",\r\n  COMPANIES: \"/companies\",\r\n  COMPANIES_LIST: \"/companies/list\",\r\n  COMPANIES_VIEW: \"/companies/view\",\r\n  COMPANIES_VIEW_JOBS: \"/companies/view/jobs\",\r\n  COMPANIES_VIEW_EVENTS: \"/companies/view/events\",\r\n  COMPANIES_VIEW_BUSINESS: \"/companies/view/businessleads\",\r\n  COMPANIES_VIEW_HIRING: \"/companies/view/hiring\",\r\n  COMPANIES_VIEW_ENGAGEMENT: \"/companies/view/engagement\",\r\n  COMPANIES_VIEW_SPONSORSHIP: \"/companies/view/sponsorship\",\r\n  COMPANIES_VIEW_BOOST: \"/companies/view/boost\",\r\n  COMPANIES_VIEW_GROWTH: \"/companies/view/companygrowth\",\r\n  PROMO_CODES_LIST: \"/promo-codes/list\",\r\n  EVENTS_LIST: \"/events/list\",\r\n  GROUPS_LIST: \"/groups/list\",\r\n};\r\nexport const ROUTES = {\r\n  ...PUBLIC_ROUTES,\r\n  ...PRIVATE_ROUTES,\r\n};\r\n"],"names":[],"mappings":";;;;;AAAO,MAAM,gBAAgB;IAC3B,OAAO;IACP,UAAU;IACV,iBAAiB;IACjB,YAAY;IACZ,gBAAgB;AAClB;AAEO,MAAM,iBAAiB;IAC5B,WAAW;IACX,OAAO;IACP,YAAY;IACZ,YAAY;IACZ,eAAe;IACf,eAAe;IACf,kBAAkB;IAClB,cAAc;IACd,eAAe;IACf,qBAAqB;IACrB,oBAAoB;IACpB,qBAAqB;IACrB,oBAAoB;IACpB,0BAA0B;IAC1B,wBAAwB;IACxB,mBAAmB;IACnB,oBAAoB;IACpB,oBAAoB;IACpB,QAAQ;IACR,aAAa;IACb,YAAY;IACZ,aAAa;IACb,WAAW;IACX,gBAAgB;IAChB,gBAAgB;IAChB,qBAAqB;IACrB,uBAAuB;IACvB,yBAAyB;IACzB,uBAAuB;IACvB,2BAA2B;IAC3B,4BAA4B;IAC5B,sBAAsB;IACtB,uBAAuB;IACvB,kBAAkB;IAClB,aAAa;IACb,aAAa;AACf;AACO,MAAM,SAAS;IACpB,GAAG,aAAa;IAChB,GAAG,cAAc;AACnB"}},
    {"offset": {"line": 83, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/middleware.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\r\nimport { cookies } from \"next/headers\";\r\nimport { decrypt } from \"@/shared/session\";\r\nimport { PRIVATE_ROUTES, PUBLIC_ROUTES } from \"./shared/routes\";\r\n\r\nconst protectedRoutes = Object.values(PRIVATE_ROUTES);\r\nconst publicRoutes = Object.values(PUBLIC_ROUTES);\r\n\r\nexport default async function middleware(req: NextRequest) {\r\n  const path = req.nextUrl.pathname;\r\n  console.log(\"ðŸ”¥ Middleware is running:\", path);\r\n  if (path === \"/\") {\r\n    const cookie = req.cookies.get(\"session\")?.value;\r\n    const session = await decrypt(cookie);\r\n\r\n    return NextResponse.redirect(\r\n      new URL(\r\n        session?.token\r\n          ? PRIVATE_ROUTES.DASHBOARD_ANALYTICS\r\n          : PUBLIC_ROUTES.LOGIN,\r\n        req.nextUrl,\r\n      ),\r\n    );\r\n  }\r\n  // 2. Check if the current route is protected or public\r\n\r\n  const isProtectedRoute = protectedRoutes.includes(path);\r\n  const isPublicRoute = publicRoutes.includes(path);\r\n\r\n  // 3. Decrypt the session from the cookie\r\n  const cookie = (await cookies()).get(\"session\")?.value;\r\n  const session = await decrypt(cookie);\r\n\r\n  // 4. Redirect to /login if the user is not authenticated\r\n  if (isProtectedRoute && !session?.token) {\r\n    return NextResponse.redirect(new URL(PUBLIC_ROUTES.LOGIN, req.nextUrl));\r\n  }\r\n\r\n  // 5. Redirect to /dashboard if the user is authenticated\r\n  if (\r\n    isPublicRoute &&\r\n    session?.token &&\r\n    !req.nextUrl.pathname.startsWith(PRIVATE_ROUTES.DASHBOARD_ANALYTICS)\r\n  ) {\r\n    return NextResponse.redirect(\r\n      new URL(PRIVATE_ROUTES.DASHBOARD_ANALYTICS, req.nextUrl),\r\n    );\r\n  }\r\n\r\n  return NextResponse.next();\r\n}\r\n\r\n// Routes Middleware should not run on\r\nexport const config = {\r\n  matcher: [\"/((?!api|_next/static|_next/image|.*\\\\.png$).*)\"],\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;AAAA;;;;;;AAEA;;;;;AAEA,MAAM,kBAAkB,OAAO,MAAM,CAAC,+HAAA,CAAA,iBAAc;AACpD,MAAM,eAAe,OAAO,MAAM,CAAC,+HAAA,CAAA,gBAAa;AAEjC,eAAe,WAAW,GAAgB;IACvD,MAAM,OAAO,IAAI,OAAO,CAAC,QAAQ;IACjC,QAAQ,GAAG,CAAC,6BAA6B;IACzC,IAAI,SAAS,KAAK;QAChB,MAAM,SAAS,IAAI,OAAO,CAAC,GAAG,CAAC,YAAY;QAC3C,MAAM,UAAU,MAAM,QAAQ;QAE9B,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAC1B,IAAI,IACF,SAAS,QACL,+HAAA,CAAA,iBAAc,CAAC,mBAAmB,GAClC,+HAAA,CAAA,gBAAa,CAAC,KAAK,EACvB,IAAI,OAAO;IAGjB;IACA,uDAAuD;IAEvD,MAAM,mBAAmB,gBAAgB,QAAQ,CAAC;IAClD,MAAM,gBAAgB,aAAa,QAAQ,CAAC;IAE5C,yCAAyC;IACzC,MAAM,SAAS,CAAC,MAAM,CAAA,GAAA,2KAAA,CAAA,UAAO,AAAD,GAAG,EAAE,GAAG,CAAC,YAAY;IACjD,MAAM,UAAU,MAAM,QAAQ;IAE9B,yDAAyD;IACzD,IAAI,oBAAoB,CAAC,SAAS,OAAO;QACvC,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,+HAAA,CAAA,gBAAa,CAAC,KAAK,EAAE,IAAI,OAAO;IACvE;IAEA,yDAAyD;IACzD,IACE,iBACA,SAAS,SACT,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,+HAAA,CAAA,iBAAc,CAAC,mBAAmB,GACnE;QACA,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAC1B,IAAI,IAAI,+HAAA,CAAA,iBAAc,CAAC,mBAAmB,EAAE,IAAI,OAAO;IAE3D;IAEA,OAAO,6LAAA,CAAA,eAAY,CAAC,IAAI;AAC1B;AAGO,MAAM,SAAS;IACpB,SAAS;QAAC;KAAkD;AAC9D"}}]
}